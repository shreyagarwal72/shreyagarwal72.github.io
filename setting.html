<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Settings | Nextup Studio</title>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      min-height: 100vh;
      background: #121212;
      transition: background 0.2s, color 0.2s;
    }
    .settings-main {
      max-width: 550px;
      margin: 48px auto 32px auto;
      padding: 36px 34px 28px 34px;
      border-radius: 12px;
      background: #1e1e1e;
      color: #f0f0f0;
      box-shadow: 0 10px 32px rgba(0,188,212,0.08);
    }
    .settings-main h1 {
      text-align: center;
      margin-bottom: 28px;
      color: #00bcd4;
      font-size: 2rem;
      font-weight: 800;
      letter-spacing: .4px;
    }
    .settings-group {
      margin-bottom: 26px;
    }
    .settings-group label {
      font-weight: bold;
      display: block;
      margin-bottom: 8px;
    }
    .settings-group input[type="text"],
    .settings-group input[type="email"],
    .settings-group input[type="password"],
    .settings-group select {
      width: 100%;
      padding: 10px 12px;
      background: #121212;
      border: none;
      border-radius: 5px;
      color: #f0f0f0;
      font-size: 1em;
      outline: none;
      margin-top: 2px;
      box-shadow:inset 0 2px 7px rgba(0,188,212,0.13);
    }
    .settings-group input[type="checkbox"] {
      transform: scale(1.1);
      margin-right: 7px;
      accent-color: #00bcd4;
    }
    .settings-checkbox {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
      font-weight: 500;
    }
    .settings-actions {
      text-align: center;
    }
    .settings-actions button {
      background: #00bcd4;
      color: #121212;
      font-weight: bold;
      border: none;
      border-radius: 5px;
      padding: 12px 44px;
      cursor: pointer;
      font-size: 19px;
      transition: background 0.18s, color 0.18s;
      margin-top:14px;
    }
    .settings-actions button:hover {
      background: #0097a7;
      color: #fff;
    }
    .settings-back {
      display: block;
      text-align: center;
      color: #00bcd4;
      font-weight: bold;
      text-decoration: none;
      margin-top: 34px;
      font-size: 1.00em;
      opacity: .82;
      transition: opacity 0.2s;
    }
    .settings-back:hover { opacity: 1; text-decoration: underline; }
    .settings-success {
      text-align:center;
      color: #10e890;
      margin-top: 40px;
      font-size: 1.16em;
      font-weight: 650;
      letter-spacing: .15px;
    }
    @media (max-width:700px) {
      .settings-main { max-width:99vw; padding:13px 2vw 18px 2vw; margin:15px 0; }
      .settings-main h1 { font-size: 1.20rem; }
    }
    body.light-mode {
      background: #f9f9f9;
      color: #232323;
    }
    body.light-mode .settings-main {
      background: #e0fbfe;
      color: #222;
    }
    body.light-mode .settings-main h1 { color: #0097a7; }
    body.light-mode .settings-actions button { background: #00bcd4; color: #fff; }
    body.light-mode .settings-actions button:hover { background:#00acc1; color:#fff; }
    body.light-mode .settings-group input,
    body.light-mode .settings-group select {
      background: #fff;
      color: #171a1b;
    }
  </style>
</head>
<body>
  <div class="settings-main" id="settingsArea">
    <h1>⚙️ Settings</h1>
    <form id="settingsForm" autocomplete="off">
      <div class="settings-group">
        <label for="username">Username</label>
        <input type="text" id="username" required />
      </div>
      <div class="settings-group">
        <label for="name">Name</label>
        <input type="text" id="name" placeholder="Enter Name" />
      </div>
      <div class="settings-group">
        <label for="email">Email</label>
        <input type="email" id="email" placeholder="your@email.com" />
      </div>
      <div class="settings-group">
        <label for="password">Change Password</label>
        <input type="password" id="password" placeholder="New Password" />
      </div>
      <div class="settings-group">
        <label for="language">Language</label>
        <select id="language">
          <option value="en">English</option>
          <option value="hi">Hindi</option>
        </select>
      </div>
      <div class="settings-group">
        <label for="theme">Theme</label>
        <select id="theme">
          <option value="auto">Auto (System)</option>
          <option value="dark">Dark</option>
          <option value="light">Light</option>
        </select>
      </div>
      <div class="settings-group">
        <div class="settings-checkbox">
          <input type="checkbox" id="newsletter">
          <label for="newsletter" style="margin:0;">Receive Newsletter</label>
        </div>
        <div class="settings-checkbox">
          <input type="checkbox" id="productupdates" checked>
          <label for="productupdates" style="margin:0;">Product Updates</label>
        </div>
      </div>
      <div class="settings-actions">
        <button type="submit">Save Changes</button>
      </div>
    </form>
    <a href="index.html" class="settings-back">← Back to Home</a>
  </div>
  <script>
    // Immediately set theme on page load (even before DOMContentLoaded)
    (function setThemeImmediately() {
      let mode = localStorage.getItem('themeMode');
      if(!mode || mode==='auto'){
        // system default
        if(window.matchMedia('(prefers-color-scheme: dark)').matches){
          document.body.classList.remove('light-mode');
        }else{
          document.body.classList.add('light-mode');
        }
      } else if(mode==='light'){
        document.body.classList.add('light-mode');
      } else {
        document.body.classList.remove('light-mode');
      }
    })();

    // On DOMContentLoaded, complete sync for dropdown and user fields
    document.addEventListener('DOMContentLoaded',function(){
      // Dropdown selection matches themeMode
      let mode = localStorage.getItem('themeMode')||'auto';
      document.getElementById('theme').value = mode;

      // Re-sync theme on dropdown change
      document.getElementById('theme').addEventListener('change',function(){
        localStorage.setItem('themeMode',this.value);
        // Apply
        if(this.value==='auto'){
          if(window.matchMedia('(prefers-color-scheme: dark)').matches){
            document.body.classList.remove('light-mode');
          }else{
            document.body.classList.add('light-mode');
          }
        } else if(this.value==='light'){
          document.body.classList.add('light-mode');
        } else {
          document.body.classList.remove('light-mode');
        }
      });

      // Live theme sync (if system theme changes while on auto)
      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change',function(e){
        let mode = localStorage.getItem('themeMode')||'auto';
        if(mode==="auto"){
          if(e.matches){
            document.body.classList.remove('light-mode');
          }else{
            document.body.classList.add('light-mode');
          }
        }
      });

      // LocalStorage user fields auto-fill
      let user = localStorage.getItem('nextupUser');
      if(user){
        try{
          let obj=JSON.parse(user);
          if(obj.username) document.getElementById('username').value=obj.username;
          if(obj.name) document.getElementById('name').value=obj.name;
          if(obj.email) document.getElementById('email').value=obj.email;
        }catch(e){}
      }
    });

    // Success message after Save, remove form
    document.getElementById('settingsForm').addEventListener('submit',function(e){
      e.preventDefault();
      document.getElementById('settingsForm').style.display='none';
      document.getElementById('settingsArea').insertAdjacentHTML('beforeend',
        `<div class="settings-success">✅ Changes Saved Successfully!</div>`);
    });
  </script>
</body>
</html>
